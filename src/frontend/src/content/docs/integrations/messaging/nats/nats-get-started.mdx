---
title: Get started with the NATS integration
description: Learn how to set up the Aspire NATS hosting and client integrations simply.
prev: false
---

import { Aside } from '@astrojs/starlight/components';
import InstallPackage from '@components/InstallPackage.astro';
import InstallDotNetPackage from '@components/InstallDotNetPackage.astro';
import { Image } from 'astro:assets';
import natsIcon from '@assets/icons/nats-icon.png';

<Image
  src={natsIcon}
  alt="NATS logo"
  width={100}
  height={100}
  class:list={'float-inline-left icon'}
  data-zoom-off
/>

[NATS](https://nats.io) is a simple, secure and high-performance open-source messaging system for cloud-native applications, IoT messaging, and microservices architectures. The Aspire NATS integration provides a way to connect to existing NATS instances or create new instances from Aspire with the `docker.io/library/nats` container image.

In this introduction, you'll see how to install and use the Aspire NATS integrations in a simple configuration. If you already have this knowledge, see [NATS hosting integration](/integrations/messaging/nats/nats-host/) for full reference details.

<Aside type="note">
    To follow this guide, you must have created an Aspire solution to work with. To learn how to do that, see [Build your first Aspire app](../../../../get-started/first-app/).
</Aside>

## Set up hosting integration

To begin, install the Aspire NATS hosting integration in your Aspire AppHost project:

<InstallPackage packageName="Aspire.Hosting.Nats" />

Next, in the AppHost project, create instances of NATS resources and pass them to the consuming client projects:

```csharp title="C# â€” AppHost.cs"
var builder = DistributedApplication.CreateBuilder(args);

var nats = builder.AddNats("nats");

builder.AddProject<Projects.ExampleProject>()
       .WithReference(nats);

builder.Build().Run();
```

## Set up client integration

To get started with the Aspire NATS client integration, install the package:

<InstallDotNetPackage packageName="Aspire.NATS.Net" />

In the `Program.cs` file of your client-consuming project, call the `AddNatsClient` extension method to register an `INatsConnection` for use through dependency injection:

```csharp
builder.AddNatsClient(connectionName: "nats");
```

You can then retrieve the `INatsConnection` instance using dependency injection:

```csharp
public class ExampleService(INatsConnection connection)
{
    // Use connection...
}
```

## See also

- [NATS hosting integration](/integrations/messaging/nats/nats-host/)
- [NATS client integration](/integrations/messaging/nats/nats-client/)
- [NATS documentation](https://docs.nats.io)
