---
title: Get started with the Azure SQL Database integration
description: Learn how to set up the Aspire Azure SQL Database hosting and client integrations simply.
prev: false
---

import { Aside, CardGrid, LinkCard } from '@astrojs/starlight/components';
import InstallPackage from '@components/InstallPackage.astro';
import InstallDotNetPackage from '@components/InstallDotNetPackage.astro';
import { Image } from 'astro:assets';
import sqlServerIcon from '@assets/icons/azure-sqlserver-icon.png';

<Image
  src={sqlServerIcon}
  alt="Azure SQL Database logo"
  height={80}
  width={80}
  class:list={'float-inline-left icon'}
  data-zoom-off
/>

[Azure SQL](https://azure.microsoft.com/products/azure-sql) is a family of relational database management systems that run in the Azure cloud. The database systems are Platform-as-a-Service (PaaS) products that enable database administrators to implement highly scalable and available databases without maintaining complex infrastructures themselves. The Aspire Azure SQL Server Hosting integration provides methods to create a new Azure Database server and databases from code in your Aspire AppHost project.

In this introduction, you'll see how to install and use the Aspire Azure SQL Database integrations in a simple configuration. If you already have this knowledge, see [Azure SQL Database Hosting integration](/integrations/cloud/azure/azure-sql-database/azure-sql-database-host/) for full reference details.

<Aside type="note">
    To follow this guide, you must have created an Aspire solution to work with. To learn how to do that, see [Build your first Aspire app](/get-started/first-app/).
</Aside>

## Set up hosting integration

To begin, install the Aspire Azure SQL Database Hosting integration in your Aspire AppHost project. This integration allows you to create and manage Azure SQL Database resources from your Aspire hosting projects:

<InstallPackage packageName="Aspire.Hosting.Azure.Sql" />

Next, in the AppHost project, create an Azure SQL Database resource and pass it to the consuming client projects:

```csharp title="C# — AppHost.cs"
var builder = DistributedApplication.CreateBuilder(args);

var azureSql = builder.AddAzureSqlServer("azuresql")
    .AddDatabase("database");

var myService = builder.AddProject<Projects.MyService>()
    .WithReference(azureSql);

// After adding all resources, run the app...

builder.Build().Run();
```

The preceding code adds an Azure SQL server resource named `azuresql` to the AppHost project, adds a database to it, and passes the database connection information to the consuming project.

<Aside type="caution">
  When you call `AddAzureSqlServer`, it implicitly calls
  `AddAzureProvisioning`—which adds support for generating Azure resources
  dynamically during app startup. The app must configure the appropriate
  subscription and location. For more information, see [Local provisioning:
  Configuration](/integrations/cloud/azure/local-provisioning/#configuration).
</Aside>

<Aside type="tip">
    This is the simplest implementation of Azure SQL Database resources in the AppHost. There are many more options you can choose from to address your requirements. For full details, see [Azure SQL Database Hosting integration](/integrations/cloud/azure/azure-sql-database/azure-sql-database-host/).
</Aside>

## Set up client integration

To use Azure SQL Database from your client applications, install the Aspire SQL Server client integration in your client project:

<InstallDotNetPackage packageName="Aspire.Microsoft.Data.SqlClient" />

In the `Program.cs` file of your client-consuming project, call the `AddSqlServerClient` extension method to register a `SqlConnection` for use via the dependency injection container:

```csharp
builder.AddSqlServerClient(connectionName: "database");
```

> [!TIP]
> The `connectionName` parameter must match the name used when adding the SQL database resource in the AppHost project.

After adding the `SqlConnection`, you can retrieve the connection instance using dependency injection:

```csharp
public class ExampleService(SqlConnection connection)
{
    // Use connection...
}
```

For full details on using the client integration, see [Azure SQL Database Client integration](/integrations/cloud/azure/azure-sql-database/azure-sql-database-client/).

## Next steps

<CardGrid>
    <LinkCard
        title="Azure SQL Database Hosting integration"
        description="Learn more about the hosting integration features and capabilities"
        href="/integrations/cloud/azure/azure-sql-database/azure-sql-database-host/"
    />
    <LinkCard
        title="Azure SQL Database Client integration"
        description="Learn how to use the Azure SQL Database client integration"
        href="/integrations/cloud/azure/azure-sql-database/azure-sql-database-client/"
    />
</CardGrid>
