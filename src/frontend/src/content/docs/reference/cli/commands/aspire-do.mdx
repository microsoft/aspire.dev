---
title: aspire do command
description: Learn about the aspire do command and its usage. This command executes a specific pipeline step and its dependencies.
sidebar:
  badge: Preview
---

import Include from '@components/Include.astro';
import LearnMore from '@components/LearnMore.astro';

## Name

`aspire do` - Execute a specific pipeline step and its dependencies.

## Synopsis

```bash title="Aspire CLI"
aspire do <step> [options] [[--] <additional arguments>...]
```

## Description

The `aspire do` command executes a specific pipeline step and its dependencies in your Aspire AppHost. This command provides fine-grained control over the orchestration pipeline, allowing you to run individual steps of the deployment or build process.

<Include relativePath="reference/cli/includes/project-search-logic-description.md" />

The command allows you to:

- Execute specific pipeline steps without running the entire pipeline
- Run only the dependencies needed for a particular step
- Test individual pipeline stages during development
- Customize pipeline execution with environment-specific settings
- Discover available steps and their dependencies using the diagnostics step

<LearnMore>
  For more information, see [Pipelines and app
  topology](/get-started/pipelines/).
</LearnMore>

## Arguments

The following arguments are available:

- **`step`**

  The name of the step to execute.

## Options

The following options are available:

- **`--`**

  Delimits arguments to `aspire do` from arguments for the AppHost. All arguments after this delimiter are passed to the application being run.

- <Include relativePath="reference/cli/includes/option-project.md" />

- **`-o, --output-path`**

  The optional output path for artifacts.

- **`--log-level`**

  Set the minimum log level for pipeline logging. Valid values are: `trace`, `debug`, `information`, `warning`, `error`, `critical`. The default is `information`.

- **`-e, --environment`**

  The environment to use for the operation. The default is `Production`.

- **`--include-exception-details`**

  Include exception details (stack traces) in pipeline logs.

- <Include relativePath="reference/cli/includes/option-help.md" />

- <Include relativePath="reference/cli/includes/option-debug.md" />

- <Include relativePath="reference/cli/includes/option-wait.md" />

## Discovering available steps

Before executing a pipeline step, you can discover what steps are available in your application's pipeline and understand their dependencies using the `diagnostics` step.

### Understanding pipeline structure

The `aspire do diagnostics` command provides comprehensive information about your pipeline, including:

- All available steps and their dependencies
- Execution order with parallelization indicators
- Step dependencies and target resources
- Configuration issues like orphaned steps or circular dependencies

This is particularly useful after installing a deployment package or when you want to understand which steps will execute for a given command.

### Well-known steps

Aspire provides several well-known steps that serve as entry points for common operations:

- **`build`**: Builds container images for compute resources defined in the application
- **`push`**: Pushes container images to registries after they have been built
- **`publish`**: Generates deployment artifacts by serializing resources to disk
- **`deploy`**: Orchestrates the complete deployment process including infrastructure provisioning, image building, and application deployment

Resources in your application can contribute their own custom steps, and you can add application-specific steps through the pipeline API.

## Examples

The following examples demonstrate common pipeline operations:

- Examine the pipeline structure and available steps:

  ```bash title="Aspire CLI"
  aspire do diagnostics
  ```

  This displays all steps in your pipeline, their dependencies, and execution order. Use this to understand what steps are available and how they relate to each other.

- Build container images for your application:

  ```bash title="Aspire CLI"
  aspire do build
  ```

  This builds all container images for compute resources defined in your AppHost.

- Push container images to a registry:

  ```bash title="Aspire CLI"
  aspire do push
  ```

  This pushes built container images to their configured registries. The push step automatically includes its dependencies (building images and ensuring registry availability) before pushing.

- Execute a pipeline step with debug logging:

  ```bash title="Aspire CLI"
  aspire do deploy --log-level debug
  ```

  Use debug logging to get detailed troubleshooting output during step execution.

- Execute a pipeline step for a specific environment:

  ```bash title="Aspire CLI"
  aspire do publish --environment Staging
  ```

  Target different environments to use environment-specific configurations.

- Execute a pipeline step with custom output path:

  ```bash title="Aspire CLI"
  aspire do publish --output-path ./artifacts
  ```

  Specify where publishing artifacts should be written.

- Execute a pipeline step with additional arguments:

  ```bash title="Aspire CLI"
  aspire do test -- --configuration Release
  ```

  Pass additional arguments to the AppHost after the `--` delimiter.
