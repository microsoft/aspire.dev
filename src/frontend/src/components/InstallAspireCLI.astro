---
import { Code, Steps, Tabs, TabItem } from "@astrojs/starlight/components";
import AsciinemaPlayer from "@components/AsciinemaPlayer.astro";
import SynchedTabs from "@components/SynchedTabs.astro";
---

<Steps>
    <ol>
        <li>
            <p>{Astro.locals.t("aspire.installCli")}</p>

            <SynchedTabs id="terminal">
                <Tabs>
                    <TabItem label="Bash" icon="seti:shell">
                        <Code
                            lang="bash"
                            title={Astro.locals.t("aspire.installCliGlobally")}
                            code="curl -sSL https://aspire.dev/install.sh | bash"
                        />
                    </TabItem>
                    <TabItem label="PowerShell" icon="seti:powershell">
                        <Code
                            lang="powershell"
                            title={Astro.locals.t("aspire.installCliGlobally")}
                            code='Invoke-Expression "& { $(Invoke-RestMethod https://aspire.dev/install.ps1) }"'
                        />
                    </TabItem>
                </Tabs>
            </SynchedTabs>
        </li>
        <li>
            <p>{Astro.locals.t("aspire.verifyInstallation")}</p>

            <SynchedTabs id="terminal">
                <Tabs>
                    <TabItem label="Bash" icon="seti:shell">
                        <Code
                            lang="bash"
                            title={Astro.locals.t("aspire.checkVersion")}
                            code="aspire --version"
                        />
                    </TabItem>
                    <TabItem label="PowerShell" icon="seti:powershell">
                        <Code
                            lang="powershell"
                            title={Astro.locals.t("aspire.checkVersion")}
                            code="aspire --version"
                        />
                    </TabItem>
                </Tabs>
            </SynchedTabs>

            <p>{Astro.locals.t("aspire.verifyInstallationText")}</p>
        </li>
        <li>
            <p>
                {Astro.locals.t("aspire.helpCommand")}
            </p>

            <AsciinemaPlayer
                src="/casts/aspire-help.cast"
                poster="npt:0:03"
                rows="21"
            />
        </li>
    </ol>
</Steps>
