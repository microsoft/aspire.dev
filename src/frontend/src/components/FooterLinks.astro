---
import { Icon } from '@astrojs/starlight/components';
import config from 'virtual:starlight/user-config';

const links = config.social || [];
const gitHubLink = links.filter(l => l.label == 'GitHub')[0].href || null;
const discordLink = links.filter(l => l.label == 'Discord')[0].href || null;
const is404 = Astro.locals.starlightRoute?.entry?.slug === "404";
---

{!is404 && (
<div class="footer-column">
    <h4 class="footer-heading">{Astro.locals.t('footer.community' as any)}</h4>
    <ul class="footer-links">
        <li>
            <a href="https://x.com/aspiredotdev" target="_blank">
                <Icon name="x.com" size="1em" />
                Follow
            </a>
        </li>
        {gitHubLink && (
            <li>
                <a href={gitHubLink} target="_blank">
                    <Icon name="github" size="1em" />
                    {Astro.locals.t('footer.collab')}
                </a>
            </li>
        )}
        {discordLink && (
            <li>
                <a href={discordLink} target="_blank">
                    <Icon name='discord' size="1em" />
                    Discord
                </a>
            </li>
        )}
        <li>
            <a href="https://www.reddit.com/r/aspiredotdev" target="_blank">
                <Icon name="reddit" size="1em" />
                {Astro.locals.t('footer.discuss')}
            </a>
        </li>
        <li>
            <a href="https://www.youtube.com/@aspiredotdev" target="_blank">
                <Icon name="youtube" size="1em" />
                {Astro.locals.t('footer.watch')}
            </a>
        </li>
    </ul>
</div>
)}

<style>
    .footer-column {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .footer-heading {
        font-size: 0.9rem;
        font-weight: 600;
        color: var(--sl-color-white);
        margin: 0 0 0.25rem 0;
    }

    .footer-links {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 0.4rem;
    }

    .footer-links a {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--sl-color-gray-2);
        text-decoration: none;
        font-size: var(--sl-text-sm);
        transition: color 0.15s ease;
    }

    .footer-links a:hover {
        color: var(--sl-color-white);
    }
</style>